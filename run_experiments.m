% function run_experiments()

setup;
net = flownet_init_s();
net.initParams();
fldb = get_fldb('sintel');
batch_opts = net.meta.normalization;
batch_opts.mode = 'random';
[net,stats] = flownet_train(net, fldb, ...
    @(db,batch) flownet_get_batch(db,batch,batch_opts), ...
    'gpus', [1], ...
    'batchSize', 8, ...
    'numEpochs', 100, ...
    'learningRate', 1e-5, ...%[1e-5*ones(1,10) 1e-6*ones(1,20) 1e-7*ones(1,30)], ...
    'weightDecay', 4e-4, ...
    'momentum', 0.9, ...
    'expDir', fullfile('data','exp')); 
